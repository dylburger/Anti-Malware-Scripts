Anti-Malware Scripts
=============================================

__Created: 2010-07-13__  
__Author: Dylan J. Sather__  
__Contact: dylan.sather@gmail.com__  

## About

Versions of this script have been used by the Grinnell College Helpdesk for years. Many improvements were made by Evan Case and C.M. Lubinski. Dylan J. Sather rewrote almost the entire script from scratch and made a number of improvements

These scripts fulfilled a very specific need for our helpdesk: we needed to automate the retrieval and distribution of commonly-used Anti-Malware programs, reducing the time we spent downloading and installing the programs on user computers

These scripts currently run on Linux system only. At the Grinnell College Helpdesk, this was ideal; for many normal users and Helpdesks, it's probably not. A big to-do is making these scripts portable

You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>

## Files

There are two sets of files: the initial set of scripts to run, and the Anti-Malware files/logs generated in the $DOWNLOAD_DIR, defined in downloadTools.sh

  * __scripts__ : .antiMalwareFiles, .sedCommands, downloadTools.sh, moveUpdates.sh  
  * __$DOWNLOAD_DIR/AntiMalware__ : [Anti-Malware files], download.log, error.history

## Scripts

### downloadTools.sh

This script downloads the newest Anti-Malware files/definitions to a specified directory, $DOWNLOAD_DIR. Depending on the directory, you may need to run this script with root privileges

Most of the URLs from which we fetch the programs/definitions are defined in a hidden file, .antiMalwareFiles. wget reads the URLs from this file in succession and logs errors if anything goes awry. If you want to download any additional programs/updates, you should add them to .antiMalwareFiles

Furthermore, all errors are emailed to $EMAIL. You'll need to add your email address here if you'd like to receive error messages. These messages are also logged in $DOWNLOAD_DIR/AntiMalware/error.history . The servers are some mail providers will reject these poorly-formatted e-mails (see To-do)

### moveUpdates.sh

At the Grinnell College Helpdesk, we had a number of flash drives whose sole purpose was to store Anti-Malware programs. Thus, we wanted to make sure we kept the most up-to-date software on these drives

This script takes the files we just downloaded with downloadTools.sh and moves them to all FAT32-formatted drives attached to the machine on which the script is run. It also fills the drive with arbitrary data from /dev/zero, effectively write-protecting the drive

## To-do

There are many things still left to do, and many things that could help improve these scripts. If you have any ideas, please e-mail me at dylan.sather@gmail.com 

* Port to Windows/Mac/other *nix/BSD systems  

* Condense error handling  

* wget seems to have internal error handling that allows it to download poorly-formatted/incorrect URLs; it may also be the target server that handles these errors and serves up what it believes to be the correct URL. While this behavior is great, it's puzzling. Further investigation is needed  

* Some mail servers/providers will not accept emails without the proper headers, and will thus reject the emails that these scripts send; eventually, these emails should be properly formatted to ensure universal delivery  

* Add a web interface to easily view and change info  

* Store URLs in JSON file with associated meta-data  

## Contact 

This set of scripts is currently maintained by Dylan J. Sather, who can be contacted at dylan.sather@gmail.com. Suggestions and criticism are welcome
